<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <title>Narwhal</title>
    <meta name="description" content="Narwhal">
    <!-- <meta name="keywords" content="bootstrap 5, mobile template, cordova, phonegap, mobile, html" /> -->
    <link rel="icon" type="image/png" href="../static/assets/img/favicon.png" sizes="32x32">
    <link rel="apple-touch-icon" sizes="180x180" href="../static/assets/img/icon/192x192.png">
    <link rel="stylesheet" href="../static/assets/css/style.css">
    <link rel="manifest" href="../static/manifest/manifest.json">

    <style>
        lottie-player {
            margin: 0 auto;
        }
    </style>

</head>

<body>


    <!-- loader -->
    <div id="loader">
        <div class="spinner-border text-primary" role="status"></div>
    </div>
    <!-- * loader -->

    <!-- App Capsule -->
    {% block content %}
    <!-- Sections -->
    {% endblock %}
    <!-- * App Capsule -->


    <!-- App Bottom Menu -->
    <div class="appBottomMenu">
        <a href="{{ url_for('home') }}" class="item {#{{home_active}}#}">
            <div class="col">
                <ion-icon name="home-outline"></ion-icon>
            </div>
        </a>

        <a href="{{ url_for('profile') }}" class="item">
            <div class="col">
                <ion-icon name="person-outline"></ion-icon>
            </div>
        </a>

        <a href="{{ url_for('projects') }}" class="item">
            <div class="col">
                <ion-icon name="briefcase-outline"></ion-icon>
            </div>
        </a>

        <a href="{{ url_for('contacts') }}" class="item">
            <div class="col">
                <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
            </div>
        </a>


        <a href="#sidebarPanel" class="item" data-bs-toggle="offcanvas">
            <div class="col">
                <ion-icon name="menu-outline"></ion-icon>
            </div>
        </a>
    </div>
    <!-- * App Bottom Menu -->

    <!-- App Sidebar -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarPanel">
        <div class="offcanvas-body">
            <!-- profile box -->
            <div class="profileBox">
                <div class="image-wrapper">
                    <img src="{{user.data.profile.photo}}" alt="image" class="imaged rounded">
                </div>
                <div class="in">
                    <strong>{{ user.data.account.firstname }} {{ user.data.account.lastname }}</strong>
                    <div class="text-muted">
                        {{ user.data.account.usertype }}
                    </div>
                </div>
                <a href="#" class="close-sidebar-button" data-bs-dismiss="offcanvas">
                    <ion-icon name="close"></ion-icon>
                </a>
            </div>
            <!-- * profile box -->

            <ul class="listview flush transparent no-line image-listview mt-2">
                <li>
                    <a href="{{ url_for('home') }}" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="home-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Home
                        </div>
                    </a>
                </li>

                <li>
                    <a href="{{ url_for('profile') }}" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="person-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Profile
                        </div>
                    </a>
                </li>

                <li>
                    <a href="{{ url_for('projects') }}" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="briefcase-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Projects
                        </div>
                    </a>
                </li>

                <li>
                    <a href="{{ url_for('contacts') }}" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
                        </div>
                        <div class="in">
                            <div>Messages</div>
                        </div>
                    </a>
                </li>

                <li>
                    <div class="item">
                        <div class="icon-box bg-primary push-test">
                            <ion-icon name="notifications-outline"></ion-icon>
                        </div>
                        <div class="in">
                            <div>Notifications</div>
                            <div class="form-check form-switch">
                                <input class="form-check-input notifications-mode-switch" type="checkbox" id="notifications_sidebar">
                                <label class="form-check-label" for="notifications_sidebar"></label>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- <section hidden class="js-subscription-details">
                    <pre><code class="js-subscription-json"></code></pre>
                </section> -->

                <li>
                    <div class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="moon-outline"></ion-icon>
                        </div>
                        <div class="in">
                            <div>Dark Mode</div>
                            <div class="form-check form-switch">
                                <input class="form-check-input dark-mode-switch" type="checkbox" id="darkmodesidebar">
                                <label class="form-check-label" for="darkmodesidebar"></label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

        </div>

        <!-- sidebar buttons -->
        <div class="sidebar-buttons">
            <a href="{{ url_for('intro') }}" class="button">
                <ion-icon name="help-circle-outline"></ion-icon>
            </a>
            <a href="#" class="button">
                <ion-icon name="book-outline"></ion-icon>
            </a>
            <a href="#" class="button" onclick='AddtoHome("10");'>
                <ion-icon name="cloud-download-outline"></ion-icon>
            </a>
            <a href="#" class="button">
                <ion-icon name="settings-outline"></ion-icon>
            </a>
            <a href="{{ url_for('logout') }}" class="button">
                <ion-icon name="log-out-outline"></ion-icon>
            </a>
        </div>
        <!-- * sidebar buttons -->

        <!-- iOS Add to Home Action Sheet -->
        <div class="offcanvas offcanvas-bottom action-sheet inset ios-add-to-home" tabindex="-1" id="ios-add-to-home-screen" style="max-height:200px;">
            <div class="offcanvas-header" style="margin: 0 auto;">
                <h5 class="offcanvas-title">Add to Home Screen</h5>
                <a href="#" class="close-button" data-bs-dismiss="offcanvas">
                    <ion-icon name="close"></ion-icon>
                </a>
            </div>
            <div class="offcanvas-body" style="margin: 0 auto;">
                <div class="action-sheet-content text-center">
                    <div class="mb-1"><img src="../static/assets/img/icon/192x192.png" alt="image" class="imaged w48">
                    </div>
                    <h4>Narwhal</h4>
                    <div>
                        Install Narwhal on your iPhone's home screen.
                    </div>
                    <div>
                        Tap
                        <ion-icon name="share-outline"></ion-icon> and Add to homescreen.
                    </div>
                </div>
            </div>
        </div>
        <!-- * iOS Add to Home Action Sheet -->

        <!-- Android Add to Home Action Sheet -->
        <div class="offcanvas offcanvas-top action-sheet inset android-add-to-home" tabindex="-1" id="android-add-to-home-screen" style="max-height:200px;">
            <div class="offcanvas-header" style="margin: 0 auto;">
                <h5 class="offcanvas-title">Add to Home Screen</h5>
                <a href="#" class="close-button" data-bs-dismiss="offcanvas">
                    <ion-icon name="close"></ion-icon>
                </a>
            </div>
            <div class="offcanvas-body" style="margin: 0 auto;">
                <div class="action-sheet-content text-center">
                    <div class="mb-1"><img src="../static/assets/img/icon/192x192.png" alt="image" class="imaged w48">
                    </div>
                    <h4>Narwhal</h4>
                    <div>
                        Install Narwhal on your Android's home screen.
                    </div>
                    <div>
                        Tap
                        <ion-icon name="ellipsis-vertical"></ion-icon> and Add to homescreen.
                    </div>
                </div>
            </div>
        </div>
        <!-- * Android Add to Home Action Sheet -->

    </div>
    <!-- * App Sidebar -->

    <!-- welcome notification  -->
    <div id="notification-welcome" class="notification-box">
        <div class="notification-dialog android-style">
            <div class="notification-header">
                <div class="in">
                    <img src="../static/assets/img/icon/72x72.png" alt="image" class="imaged w24">
                    <strong>Narwhal</strong>
                    <span>just now</span>
                </div>
                <a href="#" class="close-button" id="close-notification-banner">
                    <ion-icon name="close"></ion-icon>
                </a>
            </div>
            <div class="notification-content">
                <div class="in">
                    <h3 class="subtitle">Welcome to Narwhal!</h3>
                    <div class="text">
                        Receive Notifications when new projects that match your skills are posted.
                    </div>
                </div>
            </div>
            <div class="notification-footer">
                <a href="#" class="notification-button" id="rejected" onclick="reject()">
                    <ion-icon name="close-circle"></ion-icon>
                    Reject
                </a>
                <a href="#" class="notification-button" id="granted" onclick="accept()">
                    <ion-icon name="checkmark-circle"></ion-icon>
                    Accept
                </a>
            </div>
        </div>
    </div>
    <!-- * welcome notification -->



    <!-- ============== Js Files ==============  -->
    <!-- Bootstrap -->
    <script src="../static/assets/js/lib/bootstrap.min.js"></script>
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <!-- Splide -->
    <script src="../static/assets/js/plugins/splide/splide.min.js"></script>
    <!-- ProgressBar js -->
    <script src="../static/assets/js/plugins/progressbar-js/progressbar.min.js"></script>
    <!-- Base Js File -->
    <script src="../static/assets/js/base.js"></script>
    <!-- lootie -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- and  -->
    {% if flag and user.data.account.sub.keys.auth == "null" %}
    <script>
        // Trigger welcome notification after 5 seconds
        setTimeout(() => {
            notification('notification-welcome');
        }, 3000);
    </script>
    {% endif %}

    <script>
        function accept() {
            subscribeUser();
            document.getElementById("close-notification-banner").click();
        }

        function reject() {
            unsubscribeUser();
            document.getElementById("close-notification-banner").click();

        }
    </script>


</body>

</html>